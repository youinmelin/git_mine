<div class="layui-fluid">
    <div class="layui-row layui-col-space15">
        <div class="layui-col-md8">
            <div class="layui-row layui-col-space15">
                <!-- 待办事项 -->
                <div class="layui-col-md12">
                    <div class="layui-card">
                        <div class="layui-card-header">待办事项</div>
                        <div class="layui-card-body">


                        </div>
                    </div>
                </div>

            </div>
        </div>

    </div>
</div>


<script>
    //加载 controller 目录下的对应模块
    /*

      小贴士：
        这里 console 模块对应 的 console.js 并不会重复加载，
        然而该页面的视图则是重新插入到容器，那如何保证能重新来控制视图？有两种方式：
          1): 借助 layui.factory 方法获取 console 模块的工厂（回调函数）给 layui.use
          2): 直接在 layui.use 方法的回调中书写业务代码，即:
              layui.use('console', function(){
                //同 console.js 中的 layui.define 回调中的代码
              });

      这里我们采用的是方式1。其它很多视图中采用的其实都是方式2，因为更简单些，也减少了一个请求数。

    */
    layui.use('console', layui.factory('console')).use(['console'], function () {
        var $ = layui.$;

        //事件
        var active = {
            onlineUserInfo: function () {
                // 逗号分割的数据
                var userinfo = $('#onlineUserInfo').val().split(",");
                var userHtml = "";
                userinfo.forEach(function (item) {
                    userHtml += item + "<br/>";
                });
                layer.open({
                    type: 0,
                    title: '在线用户详情,0为游客(每分钟更新)',
                    content: userHtml
                });
            }
        };

        $('.layui-form-mid.layui-word-aux').on('click', function () {
            var type = $(this).data('type');
            active[type] ? active[type].call(this) : '';
        });
    });
</script>
